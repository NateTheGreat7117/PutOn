<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PutOn</title>
    <link rel="stylesheet" href="/assets/css/homepage-style.css">
    <style>
      /* Extend background behind header */
      html, body {
        margin: 0;
        padding: 0;
      }

      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #f5f5f5;
        z-index: -1;
      }

      /* 3D Container for logo */
      .hero-text {
        position: relative;
        display: inline-block;
        cursor: pointer;
        perspective: 800px;
      }

      /* Logo card wrapper */
      .logo-card {
        position: relative;
        transition: transform 125ms ease-in-out, filter 300ms;
        transform-style: preserve-3d;
      }

      .hero-text:hover .logo-card {
        filter: brightness(1.1);
      }

      /* Logo images */
      .hero-text img {
        transition: opacity 0.4s ease;
        display: block;
        user-select: none;
      }

      /* Hidden alternate logo (initially invisible) */
      .hero-text .alternate-logo {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        opacity: 0;
        transition: opacity 0.4s ease;
        pointer-events: none;
      }

      /* Show alternate logo on hover */
      .hero-text:hover .main-logo {
        opacity: 0;
      }

      .hero-text:hover .alternate-logo {
        opacity: 1;
      }

      /* Invisible grid overlay for 3D tracking */
      .canvas {
        position: absolute;
        inset: 0;
        z-index: 10;
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-template-rows: repeat(10, 1fr);
        pointer-events: all;
      }

      .grid-cell {
        pointer-events: all;
      }

      /* Background image in hero section */
      .hero {
        position: relative;
      }

      .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('/assets/images/logos/PutonBackround.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 1;
        transition: opacity 0.6s ease;
        z-index: 0;
      }

      .hero::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('/assets/images/logos/PutonBackround-effectapp.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0;
        transition: opacity 0.6s ease;
        z-index: 0;
      }

      /* Make hero content above background layers */
      .hero-center {
        position: relative;
        z-index: 1;
      }

      /* Fade backgrounds on hover */
      body.logo-hovered .hero::before {
        opacity: 0;
      }

      body.logo-hovered .hero::after {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <div id="header-placeholder"></div>

    <div class="overlay"></div>

    <div class="main-page">
      <!-- Hero Section -->
      <section class="hero">
        <div class="hero-center">
          <div class="hero-text" id="logoContainer">
            <!-- 3D tracking grid -->
            <div class="canvas" id="trackingGrid"></div>

            <!-- Logo card -->
            <div class="logo-card" id="logoCard">
              <!-- Default Logo -->
              <img src="/assets/images/logos/Put on normal transparent.png" class="main-logo" alt="PutOn Logo">
              <!-- Hover Logo -->
              <img src="/assets/images/logos/Put on orange transparent.png" class="alternate-logo" alt="PutOn Logo Hover">
            </div>
          </div>
        </div>
      </section>

      <div class="popular-links">
        <div class="image-container" id="imageContainer">
          <img src="/assets/images/outfits/website/aiden.png" alt="beach outfit" class="main-image">
          <div class="overlay-text">
            <h2>Brand of the Week</h2>
            <p>Discover the hottest styles</p>
            <p class="explore-now"><br><u>EXPLORE NOW</u></p>
          </div>
        </div>

        <div class="image-container">
          <img src="/assets/images/outfits/website/johnny3.png" alt="streetwear outfit" class="main-image">
          <div class="overlay-text">
            <h2>Suggested Styles</h2>
            <p>Whats your fit?</p>
            <p class="explore-now"><br><u>EXPLORE NOW</u></p>
          </div>
        </div>
      </div>
    </div>

    <div id="create-account-page-placeholder"></div>

    <div id="footer-placeholder"></div>

    <script type="module" src="/assets/js/pages/page-defaults.js"></script>
    <script src="/assets/js/pages/homepage.js"></script>

    <script>
      // Background transition on hover
      const logoContainer = document.getElementById('logoContainer');

      if (logoContainer) {
        logoContainer.addEventListener('mouseenter', () => {
          document.body.classList.add('logo-hovered');
        });

        logoContainer.addEventListener('mouseleave', () => {
          document.body.classList.remove('logo-hovered');
        });
      }

      // 3D tilt effect
      const trackingGrid = document.getElementById('trackingGrid');
      const logoCard = document.getElementById('logoCard');

      if (trackingGrid && logoCard) {
        // Create 10x10 grid of tracking cells for smoother transitions
        const gridSize = 10;
        const maxRotX = 20;
        const maxRotY = 10;

        for (let row = 0; row < gridSize; row++) {
          for (let col = 0; col < gridSize; col++) {
            const cell = document.createElement('div');
            cell.className = 'grid-cell';

            // Calculate rotation based on position in grid
            // Map row 0-9 to rotX 20 to -20
            // Map col 0-9 to rotY -10 to 10
            const rotX = maxRotX - (row / (gridSize - 1)) * (maxRotX * 2);
            const rotY = -maxRotY + (col / (gridSize - 1)) * (maxRotY * 2);

            cell.addEventListener('mouseenter', () => {
              logoCard.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
            });

            trackingGrid.appendChild(cell);
          }
        }

        // Reset on mouse leave
        logoContainer.addEventListener('mouseleave', () => {
          logoCard.style.transform = 'rotateX(0deg) rotateY(0deg)';
        });
      }
    </script>
  </body>
</html>